# Comparing `tmp/mwxlib-0.94.8-py3-none-any.whl.zip` & `tmp/mwxlib-0.95.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,30 +1,30 @@
-Zip file size: 171309 bytes, number of entries: 28
--rw-rw-rw-  2.0 fat      834 b- defN 24-Apr-25 02:43 mwx/__init__.py
--rw-rw-rw-  2.0 fat     5000 b- defN 24-May-07 05:46 mwx/bookshelf.py
--rw-rw-rw-  2.0 fat    47185 b- defN 24-May-03 17:38 mwx/controls.py
--rw-rw-rw-  2.0 fat    75272 b- defN 24-May-07 06:49 mwx/framework.py
--rw-rw-rw-  2.0 fat    70027 b- defN 24-May-03 17:38 mwx/graphman.py
+Zip file size: 171426 bytes, number of entries: 28
+-rw-rw-rw-  2.0 fat      829 b- defN 24-May-12 16:40 mwx/__init__.py
+-rw-rw-rw-  2.0 fat     5091 b- defN 24-May-12 16:40 mwx/bookshelf.py
+-rw-rw-rw-  2.0 fat    47185 b- defN 24-May-09 08:29 mwx/controls.py
+-rw-rw-rw-  2.0 fat    75517 b- defN 24-May-12 16:40 mwx/framework.py
+-rw-rw-rw-  2.0 fat    70027 b- defN 24-May-09 08:29 mwx/graphman.py
 -rw-rw-rw-  2.0 fat    49957 b- defN 23-Oct-30 22:59 mwx/images.py
 -rw-rw-rw-  2.0 fat    32682 b- defN 24-Mar-26 09:41 mwx/matplot2.py
--rw-rw-rw-  2.0 fat    65442 b- defN 24-Apr-27 10:54 mwx/matplot2g.py
+-rw-rw-rw-  2.0 fat    65442 b- defN 24-May-09 08:29 mwx/matplot2g.py
 -rw-rw-rw-  2.0 fat    27224 b- defN 24-Apr-19 03:02 mwx/matplot2lg.py
 -rw-rw-rw-  2.0 fat     5671 b- defN 23-Dec-23 15:51 mwx/mgplt.py
--rw-rw-rw-  2.0 fat   135627 b- defN 24-May-07 05:46 mwx/nutshell.py
--rw-rw-rw-  2.0 fat    37399 b- defN 24-Apr-30 05:03 mwx/utilus.py
+-rw-rw-rw-  2.0 fat   135788 b- defN 24-May-09 08:29 mwx/nutshell.py
+-rw-rw-rw-  2.0 fat    37399 b- defN 24-May-10 19:33 mwx/utilus.py
 -rw-rw-rw-  2.0 fat    12717 b- defN 24-Feb-16 07:48 mwx/wxmon.py
--rw-rw-rw-  2.0 fat    19129 b- defN 24-Feb-13 10:31 mwx/wxpdb.py
+-rw-rw-rw-  2.0 fat    19129 b- defN 24-May-09 06:04 mwx/wxpdb.py
 -rw-rw-rw-  2.0 fat     5578 b- defN 24-Feb-13 10:31 mwx/wxwil.py
--rw-rw-rw-  2.0 fat     7334 b- defN 24-Apr-30 06:36 mwx/wxwit.py
+-rw-rw-rw-  2.0 fat     7334 b- defN 24-May-09 08:29 mwx/wxwit.py
 -rw-rw-rw-  2.0 fat       41 b- defN 24-Apr-19 03:02 mwx/plugins/__init__.py
 -rw-rw-rw-  2.0 fat     9399 b- defN 24-Apr-19 03:02 mwx/plugins/ffmpeg_view.py
 -rw-rw-rw-  2.0 fat     2675 b- defN 24-Apr-19 03:02 mwx/plugins/fft_view.py
 -rw-rw-rw-  2.0 fat    10110 b- defN 24-Apr-19 03:02 mwx/plugins/frame_listview.py
 -rw-rw-rw-  2.0 fat      816 b- defN 24-Apr-19 03:02 mwx/plugins/line_profile.py
 -rw-rw-rw-  2.0 fat       12 b- defN 24-Apr-19 03:02 mwx/py/__init__.py
 -rw-rw-rw-  2.0 fat    16806 b- defN 23-Nov-10 02:50 mwx/py/filling.py
--rw-rw-rw-  2.0 fat     1091 b- defN 24-May-07 07:33 mwxlib-0.94.8.dist-info/LICENSE
--rw-rw-rw-  2.0 fat     1925 b- defN 24-May-07 07:33 mwxlib-0.94.8.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 24-May-07 07:33 mwxlib-0.94.8.dist-info/WHEEL
--rw-rw-rw-  2.0 fat        4 b- defN 24-May-07 07:33 mwxlib-0.94.8.dist-info/top_level.txt
--rw-rw-r--  2.0 fat     2093 b- defN 24-May-07 07:33 mwxlib-0.94.8.dist-info/RECORD
-28 files, 642142 bytes uncompressed, 168063 bytes compressed:  73.8%
+-rw-rw-rw-  2.0 fat     1091 b- defN 24-May-12 16:41 mwxlib-0.95.0.dist-info/LICENSE
+-rw-rw-rw-  2.0 fat     1925 b- defN 24-May-12 16:41 mwxlib-0.95.0.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 24-May-12 16:41 mwxlib-0.95.0.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        4 b- defN 24-May-12 16:41 mwxlib-0.95.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 fat     2093 b- defN 24-May-12 16:41 mwxlib-0.95.0.dist-info/RECORD
+28 files, 642634 bytes uncompressed, 168180 bytes compressed:  73.8%
```

## zipnote {}

```diff
@@ -63,23 +63,23 @@
 
 Filename: mwx/py/__init__.py
 Comment: 
 
 Filename: mwx/py/filling.py
 Comment: 
 
-Filename: mwxlib-0.94.8.dist-info/LICENSE
+Filename: mwxlib-0.95.0.dist-info/LICENSE
 Comment: 
 
-Filename: mwxlib-0.94.8.dist-info/METADATA
+Filename: mwxlib-0.95.0.dist-info/METADATA
 Comment: 
 
-Filename: mwxlib-0.94.8.dist-info/WHEEL
+Filename: mwxlib-0.95.0.dist-info/WHEEL
 Comment: 
 
-Filename: mwxlib-0.94.8.dist-info/top_level.txt
+Filename: mwxlib-0.95.0.dist-info/top_level.txt
 Comment: 
 
-Filename: mwxlib-0.94.8.dist-info/RECORD
+Filename: mwxlib-0.95.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## mwx/__init__.py

```diff
@@ -1,14 +1,14 @@
 #! python3
 """mwxlib framework (based on matplotlib/wx)
 """
 from .framework import __version__, __author__
 from .framework import FSM
 from .framework import Menu, MenuBar, StatusBar
-from .framework import deb, App, Frame, MiniFrame, ShellFrame
+from .framework import Frame, MiniFrame, ShellFrame, deb
 
 ## Controls
 ## from . import controls
 ## from .controls import Param, LParam, Knob, ControlPanel, Clipboard, Icon
 ## from .controls import Button, ToggleButton, TextCtrl, Choice, Gauge, Indicator
 
 ## Plugman
```

## mwx/bookshelf.py

```diff
@@ -38,20 +38,22 @@
         @self.handler.bind('enter pressed')
         def enter(v):
             data = self.GetItemData(self.Selection)
             if data:
                 data.SetFocus()
         
         @self.handler.bind('f5 pressed')
-        def refresh(v):
-            self.build_tree(clear=0)
+        def refresh(v, clear=False):
+            self.build_tree(clear)
             if self.target:
                 self.target.current_editor.SetFocus()
                 wx.CallAfter(self.SetFocus)
         
+        self.handler.bind('S-f5 pressed', partial(refresh, clear=1))
+        
         @self.handler.bind('delete pressed')
         def delete(v):
             data = self.GetItemData(self.Selection)
             if data:
                 data.parent.kill_buffer(data) # -> focus moves
                 wx.CallAfter(self.SetFocus)
```

## mwx/framework.py

```diff
@@ -1,11 +1,11 @@
 #! python3
 """mwxlib framework.
 """
-__version__ = "0.94.8"
+__version__ = "0.95.0"
 __author__ = "Kazuya O'moto <komoto@jeol.co.jp>"
 
 from functools import wraps, partial
 from importlib import reload
 from contextlib import contextmanager
 import traceback
 import warnings
@@ -51,29 +51,25 @@
         --- Jules Verne (1828--1905)
         """
     kwargs.setdefault("introText",
                       "mwx {}".format(__version__) + quote_unqoute)
     kwargs.setdefault("execStartupScript", True)
     kwargs.setdefault("ensureClose", True)
     
-    with App(loop):
+    app = wx.GetApp() or wx.App()
+    try:
         frame = ShellFrame(None, target, **kwargs)
         frame.Show()
         frame.rootshell.SetFocus()
         if locals:
             frame.rootshell.locals.update(locals)
         return frame
-
-
-@contextmanager
-def App(loop=True):
-    app = wx.GetApp() or wx.App()
-    yield app
-    if loop and not app.GetMainLoop():
-        app.MainLoop()
+    finally:
+        if loop and not app.GetMainLoop():
+            app.MainLoop()
 
 
 def postcall(f):
     """A decorator of wx.CallAfter.
     Wx posts the message that forces `f` to take place in the main thread.
     """
     @wraps(f)
@@ -1699,16 +1695,17 @@
                 wx.MessageBox("Unable to debug builtin functions.\n\n"
                               "Target must be callable or wx.Object.",
                               style=wx.ICON_ERROR)
             elif callable(obj):
                 self.debugger.debug(obj, *args, **kwargs)
             elif isinstance(obj, str):
                 filename = "<string>"
-                buf = self.Scratch.find_buffer(filename)\
-                   or self.Scratch.create_buffer(filename)
+                editor = self.Scratch
+                buf = editor.find_buffer(filename)\
+                   or editor.create_buffer(filename)
                 with buf.off_readonly():
                     buf.Text = obj
                 self.debugger.run(obj, filename)
             elif isinstance(obj, wx.Object):
                 self.watch(obj)
             else:
                 wx.MessageBox("Unable to debug non-callable objects.\n\n"
@@ -1846,14 +1843,15 @@
     def add_help(self, text):
         """Add text to the help buffer."""
         buf = self.Help.default_buffer or self.Help.new_buffer()
         with buf.off_readonly():
             buf.SetText(text)
         ## Overwrite text and popup the window.
         self.popup_window(self.Help)
+        self.Help.swap_page(buf)
     
     def clone_shell(self, target):
         if not hasattr(target, '__dict__'):
             raise TypeError("primitive objects cannot be targeted")
         
         shell = self.rootshell.__class__(self, target, name="clone",
                     style=wx.CLIP_CHILDREN|wx.BORDER_NONE)
@@ -1884,41 +1882,48 @@
         """Yields all pages of the specified type in the notebooks."""
         yield from self.console.get_pages(type)
         yield from self.ghost.get_pages(type)
     
     @property
     def all_shells(self):
         """Yields all books in the notebooks."""
-        yield from self.console.get_pages(type(self.rootshell))
+        return self.console.get_pages(type(self.rootshell))
     
     @property
     def current_shell(self):
         """Currently selected shell or rootshell."""
         return self.console.CurrentPage
     
     @property
     def all_editors(self):
         """Yields all editors in the notebooks."""
-        yield from self.ghost.get_pages(type(self.Log))
+        return self.ghost.get_pages(type(self.Log))
     
     @property
     def current_editor(self):
         """Currently selected editor or scratch."""
         editor = self.ghost.CurrentPage
         if isinstance(editor, type(self.Log)):
             return editor
         return next((x for x in self.all_editors if x.IsShown()), self.Scratch)
     
     def find_editor(self, fn):
-        """Find an editor which has the specified fn:filename or code."""
-        for book in self.all_editors:
+        """Find an editor with the specified fn:filename or code.
+        If found, switch to the buffer page.
+        """
+        return next(self.find_editors(fn), None)
+    
+    def find_editors(self, fn):
+        """Yields all editors with the specified fn:filename or code."""
+        def _f(book):
             buf = book.find_buffer(fn)
             if buf:
                 book.swap_page(buf)
-                return book
+            return buf
+        return filter(_f, self.all_editors)
     
     ## --------------------------------
     ## Find text dialog
     ## --------------------------------
     ## *** The following code is a modification of <wx.py.frame.Frame> ***
     
     __find_target = None
```

## mwx/nutshell.py

```diff
@@ -1540,18 +1540,22 @@
             ## Processing text selection, dragging, or dragging+
             evt.Skip()
             return
         pos = evt.Position
         if self.IndicatorValueAt(2, pos):
             p = self.IndicatorStart(2, pos)
             q = self.IndicatorEnd(2, pos)
-            text = self.GetTextRange(p, q).strip()
-            self.message("URL {!r}".format(text))
-            ## Note: Need a post-call of the confirmation dialog.
-            wx.CallAfter(self.parent.load_url, text)
+            url = self.GetTextRange(p, q).strip()
+            self.message("URL {!r}".format(url))
+            if wx.GetKeyState(wx.WXK_SHIFT):
+                ## Note: post-call for the confirmation dialog.
+                wx.CallAfter(self.parent.load_file, url)
+            else:
+                import webbrowser
+                return webbrowser.open(url)
         self.anchor = pos # Clear selection
     
     def on_modified(self, buf):
         """Called when the buffer is modified."""
         self.SetIndicatorCurrent(2)
         self.IndicatorClearRange(0, self.TextLength)
         for m in self.grep(url_re):
@@ -1958,14 +1962,15 @@
             buf._load_textfile(''.join(lines), filename)
             self.swap_buffer(buf, lineno)
             return True
         return False
     
     def load_file(self, filename, lineno=0, verbose=True):
         """Load a file into an existing or new buffer.
+        The requests module is required to use URL extension.
         """
         buf = self.find_buffer(filename)
         if not buf:
             buf = self.create_buffer("*temp file*")
         elif buf.need_buffer_save and verbose:
             if wx.MessageBox( # Confirm load.
                     "You are leaving unsaved content.\n\n"
@@ -1975,44 +1980,49 @@
                     style=wx.YES_NO|wx.ICON_INFORMATION) != wx.YES:
                 self.post_message("The load has been canceled.")
                 return None
         elif not buf.need_buffer_load:
             self.swap_buffer(buf, lineno)
             return True
         try:
-            self.Freeze()
-            org = self.buffer
             if re.match(url_re, filename):
                 import requests
                 res = requests.get(filename, timeout=3.0)
                 if res.status_code == requests.codes.ok:
                     buf._load_textfile(res.text, filename)
                     self.swap_buffer(buf, lineno)
                     return True
-                return False
-            else:
-                if buf._load_file(filename):
-                    self.swap_buffer(buf, lineno)
-                    return True
-                return False
+                ## return False
+                raise Exception("The requested URL was not found.")
+            if buf._load_file(filename):
+                self.swap_buffer(buf, lineno)
+                return True
+            return False
         except Exception as e:
             self.post_message(f"Failed to load {filename!r}:", e)
             self.delete_buffer(buf)
-            if org:
-                self.swap_buffer(org)
             return False
-        finally:
-            self.Thaw()
     
-    def load_url(self, url):
-        if wx.GetKeyState(wx.WXK_SHIFT):
-            self.load_file(url)
-        else:
-            import webbrowser
-            webbrowser.open(url)
+    load_url = load_file # for backward compatibility
+    
+    def find_file(self, filename=None):
+        """Open the specified file."""
+        if not filename:
+            with wx.FileDialog(self, "Open buffer",
+                    wildcard='|'.join(self.wildcards),
+                    style=wx.FD_OPEN|wx.FD_MULTIPLE) as dlg:
+                if dlg.ShowModal() == wx.ID_OK:
+                    for fn in dlg.Paths:
+                        self.find_file(fn)
+            return
+        if not self.load_file(filename):
+            buf = self.create_buffer(filename)
+            self.swap_buffer(buf)
+    
+    open_buffer = find_file # for backward compatibility
     
     def save_file(self, filename, buf=None, verbose=True):
         """Save the current buffer to a file.
         """
         buf = buf or self.buffer
         if buf.need_buffer_load and verbose:
             self.swap_buffer(buf)
@@ -2071,24 +2081,14 @@
                 return self.save_file(dlg.Path, buf)
     
     def save_all_buffers(self):
         for buf in self.all_buffers:
             if buf.need_buffer_save:
                 self.save_buffer(buf)
     
-    def open_buffer(self):
-        """Confirm the open with the dialog."""
-        with wx.FileDialog(self, "Open buffer",
-                wildcard='|'.join(self.wildcards),
-                style=wx.FD_OPEN|wx.FD_FILE_MUST_EXIST
-                                |wx.FD_MULTIPLE) as dlg:
-            if dlg.ShowModal() == wx.ID_OK:
-                for fn in dlg.Paths:
-                    self.load_file(fn)
-    
     def kill_buffer(self, buf=None):
         """Confirm the close with the dialog."""
         buf = buf or self.buffer
         if buf.need_buffer_save:
             if wx.MessageBox( # Confirm close.
                     "You are closing unsaved content.\n\n"
                     "The changes will be discarded.\n"
```

## Comparing `mwxlib-0.94.8.dist-info/LICENSE` & `mwxlib-0.95.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `mwxlib-0.94.8.dist-info/METADATA` & `mwxlib-0.95.0.dist-info/METADATA`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: mwxlib
-Version: 0.94.8
+Version: 0.95.0
 Summary: A wrapper of matplotlib and wxPython (phoenix)
 Home-page: https://github.com/komoto48g/mwxlib
 Author: Kazuya O'moto
 Author-email: komoto@jeol.co.jp
 License: MIT
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Programming Language :: Python :: 3
```

## Comparing `mwxlib-0.94.8.dist-info/RECORD` & `mwxlib-0.95.0.dist-info/RECORD`

 * *Files 16% similar despite different names*

```diff
@@ -1,28 +1,28 @@
-mwx/__init__.py,sha256=zLsXDgqyC5NsPCjRxjS2huvZ3uDyeOJ1vapotqe2ULM,834
-mwx/bookshelf.py,sha256=WEILqqxzGtdNUiUvn8oa4aTCSnzO11_MrV2L8sXKjXI,5000
+mwx/__init__.py,sha256=2D6y5mnxxp5qNbBb0-Mng40JeUKCGbqohfcuHdihZx4,829
+mwx/bookshelf.py,sha256=U_UQUJkOqugAXYm2HpgqTIWPBREKLzJzRvJWCEWnT3c,5091
 mwx/controls.py,sha256=prp1NhZqv1XANhi2PPxW9jtrgwj_02XMOOyyzZ48klM,47185
-mwx/framework.py,sha256=9ZWmc31eMBdtFPqTTd21dtyiYsiBA8U0MRuLzIMMVoI,75272
+mwx/framework.py,sha256=9WFR5E68rqxFzRcyZ1SSzPGNw5LCexu6TuUeJ9DSKTE,75517
 mwx/graphman.py,sha256=9MG0BzQh5lDDadyPPXps2M0hf6mPN3G0MQbBGdplY_I,70027
 mwx/images.py,sha256=mrnUYH12I3XLVSZcEXlpVltX0XMxufbl2yRvDIQJZqc,49957
 mwx/matplot2.py,sha256=qaF_gvLoLn-TimLbRR59KUavNr1ZpZQdSMqjzJk47rk,32682
 mwx/matplot2g.py,sha256=mDaD367wjq6xsyIDX9ot8jLwYYGayoavWMhqsQVBHac,65442
 mwx/matplot2lg.py,sha256=tg8u7w4DxiJdPN-E197NOmbQpc_1gZkgDHYv_xUhbFA,27224
 mwx/mgplt.py,sha256=ITzxA97yDwr_35BUk5OqnyskSuKVDbpf2AQCKY1jHTI,5671
-mwx/nutshell.py,sha256=SWlACsEHGtsLxw3l16TnNALNAB2_ObE7IO0eqo1s4eQ,135627
+mwx/nutshell.py,sha256=4yFPmBfjUGyx9GGXEvKadWsPkIHwOloNp44UCGu7f9U,135788
 mwx/utilus.py,sha256=FTJhVFmx6TAE5rvZ_nfxZgyyaW4zMpXEz74v72X6m7Y,37399
 mwx/wxmon.py,sha256=Qk86VbuuW2rR46pqEYLur13G_aloWz5SVv6sib30YY0,12717
 mwx/wxpdb.py,sha256=2z3ZD9Oo1H-ONBHlaprkB9hrTmAI7o03sqO46ppEFE4,19129
 mwx/wxwil.py,sha256=JK1du4i1RVMbDLqN8jLRDSu_JhKEp4mhHVMElzo4yoE,5578
 mwx/wxwit.py,sha256=MQxXR6VqqT25K6dTQ1U_42SMq1yJT6y54xrMq-OMOaQ,7334
 mwx/plugins/__init__.py,sha256=jnJ-Sl9XJ_7BFDslD_r7dsbxsOT57q_IaEriV53XIGY,41
 mwx/plugins/ffmpeg_view.py,sha256=vUYNybIJsF1JGkDzjBgDyBQvDh8e1oKHlEMY5Fwc8L4,9399
 mwx/plugins/fft_view.py,sha256=evj2kCe6N10JQczW8IajgLVrUWOihQaHQ2xiBzAsAl4,2675
 mwx/plugins/frame_listview.py,sha256=T-2xSv_D2bk9fJ64aiSEe1rJRTeqaIpLVAYEUXW5vz8,10110
 mwx/plugins/line_profile.py,sha256=WJB5z7F53yg4dII2R36IFZvtkSOGWT669b1HmAAXSnQ,816
 mwx/py/__init__.py,sha256=xykgfOytOwNuvXsfkLoumFZSTN-iBsHOjczYXngjmUE,12
 mwx/py/filling.py,sha256=KaHooM32hrGGgqw75Cbt8lAvACwC6RXadob9LGgNnEc,16806
-mwxlib-0.94.8.dist-info/LICENSE,sha256=PGtRKCaTkmUDlBQwpptJAxJtdqxIUtAmdBsaT9nUVkA,1091
-mwxlib-0.94.8.dist-info/METADATA,sha256=fHCSJqHLZhgT8iK4xUBbA2apLus3rSQMqMh0w-O7DxU,1925
-mwxlib-0.94.8.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-mwxlib-0.94.8.dist-info/top_level.txt,sha256=SI1Mh118AstnUFGPNq5aMNKiAnVNmZk1S9Ij-OwAEpY,4
-mwxlib-0.94.8.dist-info/RECORD,,
+mwxlib-0.95.0.dist-info/LICENSE,sha256=PGtRKCaTkmUDlBQwpptJAxJtdqxIUtAmdBsaT9nUVkA,1091
+mwxlib-0.95.0.dist-info/METADATA,sha256=ybRT30kEPrD9gLt1a8MReKmNeSGbYiqLPfe3N79UABM,1925
+mwxlib-0.95.0.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+mwxlib-0.95.0.dist-info/top_level.txt,sha256=SI1Mh118AstnUFGPNq5aMNKiAnVNmZk1S9Ij-OwAEpY,4
+mwxlib-0.95.0.dist-info/RECORD,,
```

